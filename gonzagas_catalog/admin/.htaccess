RewriteEngine On
RewriteBase /gonzagas_catalog/admin/

# If the request is not for a file or directory, redirect to index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# Protect against directory listing
Options -Indexes

# Protect against script execution in upload directories
<FilesMatch "\.(php|php3|php4|php5|phtml|pl|py|jsp|asp|htm|html|shtml|sh|cgi)$">
    Order Deny,Allow
    Deny from all
</FilesMatch>

# Allow PHP files in this directory
<Files "*.php">
    Order Allow,Deny
    Allow from all
</Files> 